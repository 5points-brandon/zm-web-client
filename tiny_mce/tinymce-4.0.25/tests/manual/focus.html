<!--
 * ***** BEGIN LICENSE BLOCK *****
 * Zimbra Collaboration Suite Web Client
 * Copyright (C) 2014 Zimbra, Inc.
 * 
 * The contents of this file are subject to the Common Public Attribution License Version 1.0 (the "License");
 * you may not use this file except in compliance with the License. 
 * You may obtain a copy of the License at: http://www.zimbra.com/license
 * The License is based on the Mozilla Public License Version 1.1 but Sections 14 and 15 
 * have been added to cover use of software over a computer network and provide for limited attribution 
 * for the Original Developer. In addition, Exhibit A has been modified to be consistent with Exhibit B. 
 * 
 * Software distributed under the License is distributed on an "AS IS" basis, 
 * WITHOUT WARRANTY OF ANY KIND, either express or implied. 
 * See the License for the specific language governing rights and limitations under the License. 
 * The Original Code is Zimbra Open Source Web Client. 
 * The Initial Developer of the Original Code is Zimbra, Inc. 
 * All portions of the code are Copyright (C) 2014 Zimbra, Inc. All Rights Reserved. 
 * ***** END LICENSE BLOCK *****
-->
<!DOCTYPE html>
<html>
<head>
<title>Focus tests</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0" />
<!--
<script type="text/javascript">less = {env: "development", async: false};</script>
<link rel="stylesheet/less" type="text/css" href="../../js/tinymce/skins/lightgray/skin.dev.less">
<script src="../../node_modules/less/dist/less-1.4.2.min.js"></script>
-->
<script src="../../js/tinymce/tinymce.dev.js"></script>
<script src="../../js/tinymce/plugins/table/plugin.dev.js"></script>
<script src="../../js/tinymce/plugins/paste/plugin.dev.js"></script>
<script src="../../js/tinymce/plugins/spellchecker/plugin.dev.js"></script>
<script>
	tinymce.init({
		selector: "textarea.editor",
		theme: "modern",
		plugins: [
			"advlist autolink link image lists charmap print preview hr anchor pagebreak spellchecker",
			"searchreplace wordcount visualblocks visualchars code fullscreen insertdatetime media nonbreaking",
			"save table contextmenu directionality emoticons template paste textcolor importcss"
		],
		add_unload_trigger: false,

		toolbar: "insertfile undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image | print preview media fullpage | forecolor backcolor emoticons table",

		setup: function(ed) {
			ed.on('focus blur', function(e) {
				console.log(e.type + ':' + ed.id);
			});
		}
	});

	tinymce.init({
		selector: "div.editor",
		inline: true,
		theme: "modern",
		plugins: [
			"advlist autolink link image lists charmap print preview hr anchor pagebreak spellchecker",
			"searchreplace wordcount visualblocks visualchars code fullscreen insertdatetime media nonbreaking",
			"save table contextmenu directionality emoticons template paste textcolor importcss"
		],
		add_unload_trigger: false,

		toolbar: "insertfile undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image | print preview media fullpage | forecolor backcolor emoticons table",

		setup: function(ed) {
			ed.on('focus blur', function(e) {
				console.log(e.type + ':' + ed.id);
			});
		}
	});

	if (!window.console) {
		console = {
			log: function(text) {
				document.body.appendChild(document.createTextNode(text));
				document.body.appendChild(document.createElement('br'));
			}
		};
	}
</script>
<style>
.editor {
	border: 1px dashed black;
}
</style>
</head>
<body id="root">
<form method="post" action="http://www.tinymce.com/dump.php?example=true">
	<div>
		<div>
			<textarea id="e1" class="editor">
				<p>e1</p>
				<table>
				<tbody>
				<tr>
				<td>Cell</td>
				</tr>
				</tbody>
				</table>
				<p>Text2</p>
				<div contenteditable="false">contentEditable:false</div>
				<div tabindex="1">Block with tabindex:1</div>
				<p>abc<span tabindex="1">Inline with tabindex:1</span>123</p>
			</textarea>

			<button type="button">Button</button> <a href="#">Link</a> <button type="button" onclick="tinymce.activeEditor.execCommand('Bold');">Bold</button>

			<textarea id="e2" class="editor">
				<p>e2</p>
				<table>
				<tbody>
				<tr>
				<td>Cell</td>
				</tr>
				</tbody>
				</table>
				<p>Text2</p>
				<div contenteditable="false">contentEditable:false</div>
				<div tabindex="1">Block with tabindex:1</div>
				<p>abc<span tabindex="1">Inline with tabindex:1</span>123</p>
			</textarea>

			<div id="e3" class="editor">
				<p>e3</p>
				<table>
				<tbody>
				<tr>
				<td>Cell</td>
				</tr>
				</tbody>
				</table>
				<p>Text2</p>
				<div contenteditable="false">contentEditable:false</div>
				<div tabindex="1">Block with tabindex:1</div>
				<p>abc<span tabindex="1">Inline with tabindex:1</span>123</p>
			</div>

			<div id="e4" class="editor">
				<p>e4</p>
				<table>
				<tbody>
				<tr>
				<td>Cell</td>
				</tr>
				</tbody>
				</table>
				<p>Text2</p>
				<div contenteditable="false">contentEditable:false</div>
				<div tabindex="1">Block with tabindex:1</div>
				<p>abc<span tabindex="1">Inline with tabindex:1</span>123</p>
			</div>
		</div>

		<br />
		<input type="submit" name="save" value="Submit" />
		<input type="reset" name="reset" value="Reset" />
	</div>
</form>

</body>
</html>
